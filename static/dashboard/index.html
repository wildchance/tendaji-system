<!DOCTYPE html>
<html>
<head>
  <title>Tendaji Live Dashboard</title>
  <style>
    body { font-family: Arial; padding: 20px; }
    table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
    th, td { border: 1px solid #ddd; padding: 8px; }
    th { background: #f4f4f4; }
  </style>
</head>
<body>
  <h2>ðŸ“Š Recent Signals</h2>
  <table id="signals"></table>

  <h2>ðŸ’¹ Recent Trades</h2>
  <table id="trades"></table>

<script>
async function loadData() {
  let signals = await fetch("/api/signals").then(r => r.json());
  let trades = await fetch("/api/trades").then(r => r.json());

  document.getElementById('signals').innerHTML = "<tr><th>ID</th><th>Symbol</th><th>Action</th><th>Strength</th><th>Time</th></tr>" +
    signals.map(r => `<tr>
      <td>${r.id}</td><td>${r.symbol}</td><td>${r.action}</td>
      <td>${r.strength}</td><td>${r.created_at}</td></tr>`).join('');

  document.getElementById('trades').innerHTML = "<tr><th>ID</th><th>Pair</th><th>Action</th><th>Lot</th><th>Price</th><th>Time</th></tr>" +
    trades.map(r => `<tr>
      <td>${r.id}</td><td>${r.pair}</td><td>${r.action}</td>
      <td>${r.lot_size}</td><td>${r.price}</td><td>${r.created_at}</td></tr>`).join('');
}

setInterval(loadData, 5000);
loadData();
</script>
</body>
</html>
